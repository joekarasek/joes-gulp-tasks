# joes-gulp-tasks - An Accessible Gulp 4 Package 

## Description
Writing your own gulp pipelines isn't always easy. Wouldn't be nice to automate all your front-end develop tasks with a straight forward configuration file? Gulp task management that is flexible, but accessible. This package is an attempt to bring powerful gulp tasks to any project, quickly and hopefully painlessly.
 
## Features

Here are some of the features this package includes:

* BrowserSync - This tool is great for development! Serve your site locally, and keep pace with code changes without have to refresh!
* Sass/Scss Compiling - A collection of tools to glob, compile, add browser compatibility, and compress your stylesheets
* Javascript Compiling - Babel lets you write the Javascript you want, including ES6. Uglify? Minify? No problem!
* HTML Templates - Twig.js is a great Javascript implementation of Twig, a powerful but easy to use templating language that brings sanity to your html.
* Lint/Validation - Lint your stylesheets, javascript, and html again a wide range of style guides.
* SassDoc/DocumentationJS - Good code is commented. Reward good code with beautifully rendered documentation. Impress your team, your client, and your boss.

## Requirements

Global
* [Node.js](https://nodejs.org/)
* [npm](https://www.npmjs.com/)
Local - See Notes on Using Gulp 4 Locally
* [Gulp 4](https://github.com/gulpjs/gulp/blob/4.0/docs/README.md)

## Getting Started/Installation

### Core setup 

1. Install the package using npm.

```
npm install joe-gulp-tasks --save-dev
```

2. Create a file called gulpfile.js

```javascript
function hello() {
    "world";
}
```

3. Create a file called gulpconfig.js

```javascript
module.exports = {
  browserSync: {
    enabled: true,
    port: 3050,
    watchFiles: [],
    baseDir: 'build/',
    startPath: '/',
    openBrowserAtStart: true,
    // requires above to be true; allows non-default browser to open
    browser: [
      'Google Chrome',
    ],
    reloadDelay: 50,
    reloadDebounce: 750,
  },
  css: {
    enabled: true,
    source: [
      'src/scss/**/*.scss',
    ],
    includePaths: [
      '/src/vendor/**/*.scss',
    ],
    dest: 'build/css/',
    lint: true,
    // outputStyles maybe 'expanded', 'compressed', 'nested'
    outputStyle: 'expanded',
    sourceMap: false,
    sourceComments: false,
    autoPrefixerBrowsers: [
      'last 2 versions',
      'IE >= 10',
    ],
    flattenOutput: true,
    sassdoc: {
      enabled: true,
      dest: 'sassdoc',
      verbose: false,
      exclude: [],
    },
  },
  js: {
    enabled: true,
    source: 'src/js/*.js',
    dest: 'build/js/',
    destFileName: 'scripts.js',
    babel: false,
    uglify: false,
    sourceMap: false,
    includePaths: [
      'src/canvas/js/**/*.js',
    ],
    eslint: {
      enabled: true,
      sources: [
        'src/js/**/*.js',
        'gulpfile.js',
      ],
    },
    documentationJs: {
      enabled: true,
      sources: [
        'src/js/**/*.js',
      ],
      dest: 'jsdoc',
      // Either 'html', 'md', or 'json'
      format: 'html',
    },
  },
  html: {
    enabled: true,
    sources: [
      'src/index.twig',
      'src/stylesheet.twig',
      'src/about.twig',
    ],
    dest: 'build/',
    lint: true,
    twig: {
      enabled: true,
      baseDir: 'src/templates'
    },
  },
  assets: {
    pipelines: [
      {
        source: 'src/',
        dest: '',
      }
    ],
  }
};
```

4. Finally, add the following scripts to your pacakge.json. (Optional, Notes on Using Gulp 4 Locally). 

```javacript
"scripts": {
    "gulp": "gulp",
    "gulp:tasks": "gulp --tasks"
}
```

### Linting

To add linting for stylesheets, you will need at add a `.stylelintrc.js` to your project with a defined set of rules. Not everyone agrees on the best way to write javascript, and the styleguide you pick should match the project you are on (a styleguide for es5 is not going to work well with es6), but here are a few suggestions...

* airbnb 

### Notes on Using Gulp 4 Locally

## Usage

Compile resources, launch browserSync, and setup watches for changes in your working directories.
```
npm run gulp
```

List Tasks generated by config file:
```
npm run gulp:tasks
```

Compile all resources:
```
npm run gulp compile
```

Clean all resources:
```
npm run gulp clean
```

Start all watches:
```
npm run gulp watch
```

Validate/Lint all resources:
```
npm run gulp validate
```

Any specific Gulp task:
```
npm run gulp *name-of-task*
```

## Sass/Scss and Sass Documentation

Sass/Scss documentation is handled by Sassdoc. See [sassdoc](http://sassdoc.com/) docs at `./sassdoc` (at http://localhost:3002/sassdoc after `npm start`)

Add more sassdoc annotations like `/// @param` by seeing [docs here](http://sassdoc.com/annotations).

Build Sassdocs:
```
npm run gulp compile:sassdoc
```

## JS and JS Documentation

Javascript documentation is handled by DocumentationJS. See [documenationJS](http://documentation.js.org/) docs at `./jsdoc` (at http://localhost:3002/jsdoc after `npm start`)

Add more jsdoc annotations like `/** @param */` by seeing [docs here](https://github.com/documentationjs/documentation/blob/master/docs/GETTING_STARTED.md).

Build JSdocs:
```
npm run gulp compile:jsdocs
```


## Troubleshooting

Delete `node_modules` and re-install:
```
rm -rf node_modules
npm install
```
